{"version":3,"sources":["views/home/index.js","views/config/index.js","views/check-network/index.js","routes/index.js","App.js","index.js"],"names":["Home","props","state","Component","layout","labelCol","span","wrapperCol","tailLayout","offset","Config","onFinish","bind","onFinishFailed","values","Cookies","set","JSON","stringify","message","success","errorInfo","error","name","this","Item","label","rules","required","type","htmlType","rtc","uplinkClient","downlinkClient","localAudioTrack","ortc","client","oType","CheckNetwork","handleJoinChannel","a","config","appid","channel","token","online","warning","setState","onlineLoading","AgoraRTC","createClient","join","uid","createMicrophoneAudioTrack","publish","on","user","mediaType","subscribe","audioTrack","play","handleLeaveChannel","close","leave","handleCheckNetwork","loading","networkLog","isModalVisible","mode","codec","quality","push","handleCloseDialog","loadChannels","console","log","title","extra","href","onClick","actions","className","disabled","e","handleToggleMicrophone","toString","visible","onOk","onCancel","bodyStyle","height","overflow","spinning","delay","map","item","index","formRef","React","createRef","temp","parse","get","current","setFieldsValue","able","setEnabled","gutter","ref","routes","id","icon","HomeOutlined","path","component","ProfileOutlined","WifiOutlined","Header","Layout","Sider","Content","App","handleAsideChange","history","location","pathname","key","selectedKeys","theme","to","from","withRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95cbfff6.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {  }\n  }\n  render() { \n    return ( \n      <h3>Home</h3>\n     );\n  }\n}\n \nexport default Home;","import React, { Component, Fragment } from 'react';\nimport { Row, Col, Form, message, Input, Button } from 'antd';\nimport Cookies from 'js-cookie'\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass Config extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {  }\n    this.onFinish = this.onFinish.bind(this)\n    this.onFinishFailed = this.onFinishFailed.bind(this)\n\n  }\n  onFinish (values) {\n    Cookies.set('config', JSON.stringify(values))\n    message.success('Add configuration successfully!')\n  }\n\n  onFinishFailed (errorInfo) {\n    message.error(errorInfo)\n  }\n\n  render() { \n    return (\n      <Fragment>\n        <Row>\n          <Col span={6}></Col>\n          <Col span={12}>\n            <Form\n              {...layout}\n              name=\"basic\"\n              onFinish={this.onFinish}\n              onFinishFailed={this.onFinishFailed}\n            >\n              <Form.Item\n                label=\"AppId\"\n                name=\"appid\"\n                rules={[{ required: true, message: '请输入AppId！' }]}\n              >\n                <Input />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Channel\"\n                name=\"channel\"\n                rules={[{ required: true, message: '请输入Channel!' }]}\n              >\n                <Input />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Token\"\n                name=\"token\"\n                rules={[{ required: true, message: '请输入Token！' }]}\n              >\n                <Input />\n              </Form.Item>\n\n              <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </Col>\n          <Col span={6}></Col>\n        </Row>\n      </Fragment>\n    )\n  }\n}\n \nexport default Config;","import React, { Component, Fragment } from 'react';\nimport AgoraRTC from 'agora-rtc-sdk-ng';\nimport Cookies, { set } from 'js-cookie'\nimport { Row, Col, Card, Form, Input, Button, message, Modal, Spin } from 'antd';\nimport { EditOutlined, EllipsisOutlined, SettingOutlined } from '@ant-design/icons';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nconst rtc = {\n  uplinkClient: null,\n  downlinkClient: null,\n  localAudioTrack: null\n}\n\nconst ortc = {\n  client: null,\n  localAudioTrack: null\n}\n\n// 质量状态\nconst oType = [\n  \"质量未知\",\n  \"质量极好\",\n  \"用户主观感觉和极好差不多，但码率可能略低于极好\",\n  \"用户主观感受有瑕疵但不影响沟通\",\n  \"勉强能沟通但不顺畅\",\n  \"网络质量非常差，基本不能沟通\",\n  \"网络连接断开，完全无法沟通\",\n];\n\nclass CheckNetwork extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      config: {\n        appid: '',\n        channel: '',\n        token: '',\n        uid: '',\n        online: false,\n        onlineLoading: false\n      },\n      networkLog: [],\n      loading: false,\n      isModalVisible: false\n    }\n    this.formRef = React.createRef()\n    this.onFinish = this.onFinish.bind(this)\n    this.onFinishFailed = this.onFinishFailed.bind(this)\n  }\n\n  onFinish (values) { // 保存数据-创建频道\n    Cookies.set('config', JSON.stringify(values))\n    this.setState((state) => {\n      state.config = { ...state.config, ...values}\n      return state\n    })\n    message.success('Channel created successfully!')\n  }\n\n  onFinishFailed (errorInfo) {\n    message.error('fail!')\n  }\n\n  componentDidMount () {\n    const temp = JSON.parse(Cookies.get('config') || '{}')\n    this.formRef.current.setFieldsValue(temp)\n  }\n\n  handleJoinChannel = async () => { //加入频道\n    const { appid, channel, token, online } = this.state.config\n    if(online) return message.warning('当前以加入频道中！')\n    this.setState((state) => {\n      state.config.onlineLoading = true\n      return state\n    })\n    ortc.client = AgoraRTC.createClient()\n    const uid = await ortc.client.join(appid, channel, token)\n    ortc.localAudioTrack = await AgoraRTC.createMicrophoneAudioTrack()\n    await ortc.client.publish([ortc.localAudioTrack])\n    ortc.client.on('user-published', async (user, mediaType) => {\n      await ortc.client.subscribe(user, mediaType)\n      if(mediaType == 'audio') {\n        const remoteAudioTrack = user.audioTrack\n        remoteAudioTrack.play()\n      }\n    })\n    this.setState((state) => {\n      state.config.uid = uid\n      state.config.online = true\n      state.config.onlineLoading = false\n      return state \n    })\n  }\n\n  handleLeaveChannel = async () => { //离开频道\n    ortc.localAudioTrack.close()\n    await ortc.client.leave()\n    this.setState((state) => {\n      state.config.appid = ''\n      state.config.uid = ''\n      state.config.online = false\n      return state\n    })\n    message.success('离开当前频道！')\n  }\n\n  async handleToggleMicrophone (able) {\n    await ortc.localAudioTrack.setEnabled(able)\n    message.success(able ? '麦克风已开启！' : '麦克风已禁用！')\n  }\n  \n  handleCheckNetwork = async () => { //检测通话网络质量\n    this.setState({\n      loading: true,\n      networkLog: [],\n      isModalVisible: true\n    })\n    const { appid, channel, token } = this.state.config\n    rtc.uplinkClient = AgoraRTC.createClient({\n      mode: 'rtc',\n      codec: 'vp8'\n    })\n    rtc.downlinkClient = AgoraRTC.createClient({\n      mode: 'rtc',\n      codec: 'vp8'\n    })\n    const uplinkId = await rtc.uplinkClient.join(appid, channel, token)\n    const downlinkId = await rtc.downlinkClient.join(appid, channel, token)\n    rtc.localAudioTrack = await AgoraRTC.createMicrophoneAudioTrack()\n    rtc.uplinkClient.publish([rtc.localAudioTrack])\n    rtc.downlinkClient.on('user-published', async (user, mediaType) => {\n      await rtc.downlinkClient.subscribe(user, mediaType)\n      \n    })\n    rtc.downlinkClient.on('network-quality', (quality) => {\n      const { networkLog } = this.state\n      networkLog.push(`下行网络质量：${oType[quality['downlinkNetworkQuality']]}...`)\n      this.setState({\n        networkLog,\n        loading: false\n      })\n    })\n    rtc.uplinkClient.on('network-quality', (quality) => {\n      const { networkLog } = this.state\n      networkLog.push(`上行网络质量：${oType[quality['uplinkNetworkQuality']]}...`)\n      this.setState({\n        networkLog,\n        loading: false\n      })\n    })\n  }\n\n  handleCloseDialog = async () => { //关闭网络测试对话框\n    this.setState({\n      loading: true\n    })\n    rtc.localAudioTrack.close()\n    await rtc.uplinkClient.leave()\n    await rtc.downlinkClient.leave()\n    this.setState({\n      isModalVisible: false,\n      loading: false\n    })\n  }\n\n  loadChannels = () => { //动态加载频道卡片\n    const { config, isModalVisible, networkLog } = this.state\n    console.log(config);\n    if(config.appid == '') return\n    return (\n      <Fragment>\n        <Col span={4}></Col>\n        <Col span={16}>\n          <Card\n            title=\"Channel\"\n            extra={<a href=\"#\" onClick={this.handleLeaveChannel}>Delete</a>}\n            actions={[\n              <Button type=\"primary\" className=\"button-color-volcano\" onClick={this.handleCheckNetwork}>通话质量检测</Button>,\n              <Button type=\"primary\" className=\"button-color-green\" loading={config.onlineLoading} onClick={this.handleJoinChannel}>连接频道</Button>,\n              <Button type=\"primary\" className=\"button-color-dust\" onClick={this.handleLeaveChannel} disabled={!config.online}>离开频道</Button>,\n              <Button type=\"primary\" className=\"button-color-purple\" onClick={(e) => {this.handleToggleMicrophone(false)}} disabled={!config.online}>禁止麦克风</Button>,\n              <Button type=\"primary\" className=\"button-color-cyan\" onClick={(e) => {this.handleToggleMicrophone(true)}} disabled={!config.online}>恢复麦克风</Button>,\n            ]}\n            >\n            <p>Appid: {config.appid}</p>\n            <p>Channel: {config.channel}</p>\n            <p>Uid: {config.uid}</p>\n            <p>Online: {config.online.toString()}</p>\n          </Card>\n        </Col>\n        <Col span={4}></Col>\n        <Modal title=\"Basic Modal\" visible={isModalVisible} onOk={this.handleCloseDialog} onCancel={this.handleCloseDialog} bodyStyle={{height: '400px', overflow: 'auto'}}>\n          <Spin spinning={this.state.loading} delay={500}>\n            {\n              networkLog.map((item, index) => {\n                return <p key={index}>{item}</p>\n              })\n            }\n          </Spin>\n        </Modal>\n      </Fragment>\n    )\n  }\n\n  render() {\n    return (\n      <Row gutter={[0, 30]}>\n        <Col span={6}></Col>\n        <Col span={12}>\n          <Form\n            {...layout}\n            ref={this.formRef}\n            name=\"basic\"\n            onFinish={this.onFinish}\n            onFinishFailed={this.onFinishFailed}\n          >\n\n             <Form.Item\n              label=\"AppId\"\n              name=\"appid\"\n              rules={[{ required: true, message: 'Please input appid!' }]}\n            >\n              <Input />\n            </Form.Item>\n            \n            <Form.Item\n              label=\"Channel\"\n              name=\"channel\"\n              rules={[{ required: true, message: 'Please input channel!' }]}\n            >\n              <Input />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Token\"\n              name=\"token\"\n              rules={[{ required: true, message: 'Please input token!' }]}\n            >\n              <Input />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Create Channel\n              </Button>\n            </Form.Item>\n          </Form>\n        </Col>\n        <Col span={6}></Col>\n        { this.loadChannels() }\n      </Row>\n    )\n  }\n}\n \nexport default CheckNetwork;","// component\nimport Home from '../views/home'\nimport Config from '../views/config'\nimport CheckNetwork from '../views/check-network'\n\n//icon\nimport {\n  ProfileOutlined,\n  HomeOutlined,\n  CommentOutlined,\n  WifiOutlined\n} from '@ant-design/icons';\nconst routes = [\n  {id: 1, title: 'Home', icon: HomeOutlined, path: '/home', component: Home},\n  {id: 2, title: 'Config', icon: ProfileOutlined, path: '/config', component: Config},\n  {id: 3, title: 'Check Network', icon: WifiOutlined, path: '/check-network', component: CheckNetwork}\n]\n\nexport default routes\n","import React, { Component } from 'react';\nimport { withRouter, Switch, Route, Link, Redirect } from 'react-router-dom';\nimport './App.scss'\nimport routes from './routes'\n// antd\nimport { Layout, Menu } from 'antd';\nimport 'antd/dist/antd.css';\n\nconst { Header, Sider, Content } = Layout;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: ''\n    }\n    this.handleAsideChange = this.handleAsideChange.bind(this)\n  }\n  \n  componentDidMount () {\n    const path = this.props.history.location.pathname\n    this.setState({\n      current: path\n    })\n  }\n\n  handleAsideChange (e) {\n    this.setState({\n      current: e.key\n    })\n  }\n\n  render() {\n    const { current } = this.state\n    return (\n      <Layout className=\"wrap\">\n      <Header>Header</Header>\n      <Layout>\n        <Sider>\n          <Menu\n            selectedKeys={[current]}\n            onClick={this.handleAsideChange}\n            mode=\"inline\"\n            theme=\"dark\"\n          >\n            {routes.map((item) => <Menu.Item key={item.path} icon={<item.icon />}><Link to={item.path}>{item.title}</Link></Menu.Item>)}\n          </Menu>\n        </Sider>\n        <Content className=\"content\">\n          <Switch>\n            {routes.map((item) => <Route key={item.path} path={item.path} component={item.component} />)}\n            <Redirect from=\"/\" to=\"/home\" />\n          </Switch>\n        </Content>\n      </Layout>\n    </Layout>\n    );\n  }\n}\n \nexport default withRouter(App);","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App'\n\nReactDOM.render((<Router><App /></Router>), document.getElementById('root'))"],"sourceRoot":""}