{"version":3,"sources":["views/home/index.js","views/agora-audio/index.js","routes/index.js","App.js","index.js"],"names":["Home","props","state","Component","layout","labelCol","span","wrapperCol","tailLayout","offset","rtc","uplinkClient","downlinkClient","localAudioTrack","ortc","client","oType","AgoraAudio","handleJoinChannel","a","config","appid","channel","token","online","message","warning","setState","onlineLoading","AgoraRTC","createClient","join","uid","createMicrophoneAudioTrack","publish","on","user","mediaType","subscribe","audioTrack","play","handleLeaveChannel","close","leave","success","handleCheckNetwork","loading","networkLog","isModalVisible","mode","codec","quality","push","handleCloseDialog","loadChannels","title","extra","href","onClick","actions","type","className","disabled","e","handleToggleMicrophone","toString","visible","onOk","onCancel","bodyStyle","height","overflow","spinning","delay","map","item","index","formRef","React","createRef","onFinish","bind","onFinishFailed","values","Cookies","set","JSON","stringify","this","errorInfo","error","temp","parse","get","current","setFieldsValue","able","setEnabled","gutter","ref","name","Item","label","rules","required","htmlType","routes","id","icon","HomeOutlined","path","component","WifiOutlined","Header","Layout","Sider","Content","App","handleAsideChange","history","location","pathname","key","selectedKeys","theme","to","from","withRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e34e2ee1.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {  }\n  }\n  render() { \n    return ( \n      <h3>Home</h3>\n     );\n  }\n}\n \nexport default Home;","import React, { Component, Fragment } from 'react';\nimport AgoraRTC from 'agora-rtc-sdk-ng';\nimport Cookies, { set } from 'js-cookie'\nimport { Row, Col, Card, Form, Input, Button, message, Modal, Spin } from 'antd';\nimport { EditOutlined, EllipsisOutlined, SettingOutlined } from '@ant-design/icons';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nconst rtc = {\n  uplinkClient: null,\n  downlinkClient: null,\n  localAudioTrack: null\n}\n\nconst ortc = {\n  client: null,\n  localAudioTrack: null\n}\n\n// 质量状态\nconst oType = [\n  \"质量未知\",\n  \"质量极好\",\n  \"用户主观感觉和极好差不多，但码率可能略低于极好\",\n  \"用户主观感受有瑕疵但不影响沟通\",\n  \"勉强能沟通但不顺畅\",\n  \"网络质量非常差，基本不能沟通\",\n  \"网络连接断开，完全无法沟通\",\n];\n\nclass AgoraAudio extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      config: {\n        appid: '',\n        channel: '',\n        token: '',\n        uid: '',\n        online: false,\n        onlineLoading: false\n      },\n      networkLog: [],\n      loading: false,\n      isModalVisible: false\n    }\n    this.formRef = React.createRef()\n    this.onFinish = this.onFinish.bind(this)\n    this.onFinishFailed = this.onFinishFailed.bind(this)\n  }\n\n  onFinish (values) { // 保存数据-创建频道\n    Cookies.set('config', JSON.stringify(values))\n    this.setState((state) => {\n      state.config = { ...state.config, ...values}\n      return state\n    })\n    message.success('Channel created successfully!')\n  }\n\n  onFinishFailed (errorInfo) {\n    message.error('fail!')\n  }\n\n  componentDidMount () {\n    const temp = JSON.parse(Cookies.get('config') || '{}')\n    this.formRef.current.setFieldsValue(temp)\n  }\n\n  handleJoinChannel = async () => { //加入频道\n    const { appid, channel, token, online } = this.state.config\n    if(online) return message.warning('当前以加入频道中！')\n    this.setState((state) => {\n      state.config.onlineLoading = true\n      return state\n    })\n    ortc.client = AgoraRTC.createClient()\n    const uid = await ortc.client.join(appid, channel, token)\n    ortc.localAudioTrack = await AgoraRTC.createMicrophoneAudioTrack()\n    await ortc.client.publish([ortc.localAudioTrack])\n    ortc.client.on('user-published', async (user, mediaType) => {\n      await ortc.client.subscribe(user, mediaType)\n      if(mediaType == 'audio') {\n        const remoteAudioTrack = user.audioTrack\n        remoteAudioTrack.play()\n      }\n    })\n    this.setState((state) => {\n      state.config.uid = uid\n      state.config.online = true\n      state.config.onlineLoading = false\n      return state \n    })\n  }\n\n  handleLeaveChannel = async () => { //离开频道\n    ortc.localAudioTrack.close()\n    await ortc.client.leave()\n    this.setState((state) => {\n      state.config.appid = ''\n      state.config.uid = ''\n      state.config.online = false\n      return state\n    })\n    message.success('离开当前频道！')\n  }\n\n  async handleToggleMicrophone (able) {\n    await ortc.localAudioTrack.setEnabled(able)\n    message.success(able ? '麦克风已开启！' : '麦克风已禁用！')\n  }\n  \n  handleCheckNetwork = async () => { //检测通话网络质量\n    this.setState({\n      loading: true,\n      networkLog: [],\n      isModalVisible: true\n    })\n    const { appid, channel, token } = this.state.config\n    rtc.uplinkClient = AgoraRTC.createClient({\n      mode: 'rtc',\n      codec: 'vp8'\n    })\n    rtc.downlinkClient = AgoraRTC.createClient({\n      mode: 'rtc',\n      codec: 'vp8'\n    })\n    const uplinkId = await rtc.uplinkClient.join(appid, channel, token)\n    const downlinkId = await rtc.downlinkClient.join(appid, channel, token)\n    rtc.localAudioTrack = await AgoraRTC.createMicrophoneAudioTrack()\n    rtc.uplinkClient.publish([rtc.localAudioTrack])\n    rtc.downlinkClient.on('user-published', async (user, mediaType) => {\n      await rtc.downlinkClient.subscribe(user, mediaType)\n      \n    })\n    rtc.downlinkClient.on('network-quality', (quality) => {\n      const { networkLog } = this.state\n      networkLog.push(`下行网络质量：${oType[quality['downlinkNetworkQuality']]}...`)\n      this.setState({\n        networkLog,\n        loading: false\n      })\n    })\n    rtc.uplinkClient.on('network-quality', (quality) => {\n      const { networkLog } = this.state\n      networkLog.push(`上行网络质量：${oType[quality['uplinkNetworkQuality']]}...`)\n      this.setState({\n        networkLog,\n        loading: false\n      })\n    })\n  }\n\n  handleCloseDialog = async () => { //关闭网络测试对话框\n    this.setState({\n      loading: true\n    })\n    rtc.localAudioTrack.close()\n    await rtc.uplinkClient.leave()\n    await rtc.downlinkClient.leave()\n    this.setState({\n      isModalVisible: false,\n      loading: false\n    })\n  }\n\n  loadChannels = () => { //动态加载频道卡片\n    const { config, isModalVisible, networkLog } = this.state\n    if(config.appid == '') return\n    return (\n      <Fragment>\n        <Col span={4}></Col>\n        <Col span={16}>\n          <Card\n            title=\"Channel\"\n            extra={<a href=\"#\" onClick={this.handleLeaveChannel}>Delete</a>}\n            actions={[\n              <Button type=\"primary\" className=\"button-color-volcano\" onClick={this.handleCheckNetwork}>通话质量检测</Button>,\n              <Button type=\"primary\" className=\"button-color-green\" loading={config.onlineLoading} onClick={this.handleJoinChannel}>连接频道</Button>,\n              <Button type=\"primary\" className=\"button-color-dust\" onClick={this.handleLeaveChannel} disabled={!config.online}>离开频道</Button>,\n              <Button type=\"primary\" className=\"button-color-purple\" onClick={(e) => {this.handleToggleMicrophone(false)}} disabled={!config.online}>禁止麦克风</Button>,\n              <Button type=\"primary\" className=\"button-color-cyan\" onClick={(e) => {this.handleToggleMicrophone(true)}} disabled={!config.online}>恢复麦克风</Button>,\n            ]}\n            >\n            <p>Appid: {config.appid}</p>\n            <p>Channel: {config.channel}</p>\n            <p>Uid: {config.uid}</p>\n            <p>Online: {config.online.toString()}</p>\n          </Card>\n        </Col>\n        <Col span={4}></Col>\n        <Modal title=\"Basic Modal\" visible={isModalVisible} onOk={this.handleCloseDialog} onCancel={this.handleCloseDialog} bodyStyle={{height: '400px', overflow: 'auto'}}>\n          <Spin spinning={this.state.loading} delay={500}>\n            {\n              networkLog.map((item, index) => {\n                return <p key={index}>{item}</p>\n              })\n            }\n          </Spin>\n        </Modal>\n      </Fragment>\n    )\n  }\n\n  render() {\n    return (\n      <Row gutter={[0, 30]}>\n        <Col span={6}></Col>\n        <Col span={12}>\n          <Form\n            {...layout}\n            ref={this.formRef}\n            name=\"basic\"\n            onFinish={this.onFinish}\n            onFinishFailed={this.onFinishFailed}\n          >\n\n             <Form.Item\n              label=\"AppId\"\n              name=\"appid\"\n              rules={[{ required: true, message: 'Please input appid!' }]}\n            >\n              <Input />\n            </Form.Item>\n            \n            <Form.Item\n              label=\"Channel\"\n              name=\"channel\"\n              rules={[{ required: true, message: 'Please input channel!' }]}\n            >\n              <Input />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Token\"\n              name=\"token\"\n              rules={[{ required: true, message: 'Please input token!' }]}\n            >\n              <Input />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Create Channel\n              </Button>\n            </Form.Item>\n          </Form>\n        </Col>\n        <Col span={6}></Col>\n        { this.loadChannels() }\n      </Row>\n    )\n  }\n}\n \nexport default AgoraAudio;","// component\nimport Home from '../views/home'\nimport AgoraAudio from '../views/agora-audio'\n\n//icon\nimport {\n  ProfileOutlined,\n  HomeOutlined,\n  CommentOutlined,\n  WifiOutlined\n} from '@ant-design/icons';\nconst routes = [\n  {id: 1, title: 'Home', icon: HomeOutlined, path: '/home', component: Home},\n  {id: 2, title: 'Agora Audio', icon: WifiOutlined, path: '/agora-audio', component: AgoraAudio}\n]\n\nexport default routes\n","import React, { Component } from 'react';\nimport { withRouter, Switch, Route, Link, Redirect } from 'react-router-dom';\nimport routes from './routes'\n// antd\nimport { Layout, Menu } from 'antd';\nimport 'antd/dist/antd.css';\nimport './App.scss'\n\nconst { Header, Sider, Content } = Layout;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: ''\n    }\n    this.handleAsideChange = this.handleAsideChange.bind(this)\n  }\n  \n  componentDidMount () {\n    const path = this.props.history.location.pathname\n    this.setState({\n      current: path\n    })\n  }\n\n  handleAsideChange (e) {\n    this.setState({\n      current: e.key\n    })\n  }\n\n  render() {\n    const { current } = this.state\n    return (\n      <Layout className=\"wrap\">\n      <Header>Header</Header>\n      <Layout>\n        <Sider>\n          <Menu\n            selectedKeys={[current]}\n            onClick={this.handleAsideChange}\n            mode=\"inline\"\n            theme=\"dark\"\n          >\n            {routes.map((item) => <Menu.Item key={item.path} icon={<item.icon />}><Link to={item.path}>{item.title}</Link></Menu.Item>)}\n          </Menu>\n        </Sider>\n        <Content className=\"content\">\n          <Switch>\n            {routes.map((item) => <Route key={item.path} path={item.path} component={item.component} />)}\n            <Redirect from=\"/\" to=\"/home\" />\n          </Switch>\n        </Content>\n      </Layout>\n    </Layout>\n    );\n  }\n}\n \nexport default withRouter(App);","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App'\n\nReactDOM.render((<Router><App /></Router>), document.getElementById('root'))"],"sourceRoot":""}